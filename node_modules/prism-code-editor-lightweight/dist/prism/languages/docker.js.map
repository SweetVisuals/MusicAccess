{"version":3,"file":"docker.js","sources":["../../../src/prism/languages/docker.js"],"sourcesContent":["import { languages } from '../core.js';\nimport { re, replace } from '../utils/shared.js';\n\n// Many of the following regexes will contain negated lookaheads like `[ \\t]+(?![ \\t])`. This is a trick to ensure\n// that quantifiers behave *atomically*. Atomic quantifiers are necessary to prevent exponential backtracking.\n\nvar spaceAfterBackSlash = /\\\\\\n(?:\\s|\\\\\\n|#.*(?!.))*(?![\\s#]|\\\\\\n)/.source;\n// At least one space, comment, or line break\nvar space = replace(/(?:[ \\t]+(?![ \\t])<0>?|<0>)/.source, [spaceAfterBackSlash]);\n\nvar string = /\"(?:\\\\[\\s\\S]|[^\\\\\\n\"])*\"|'(?:\\\\[\\s\\S]|[^\\\\\\n'])*'/g;\nvar stringSrc = string.source;\nvar option = replace(/--[\\w-]+=(?:<0>|(?![\"'])(?:\\\\.|[^\\\\\\s])+)/.source, [stringSrc]);\n\nvar stringRule = {\n\tpattern: string,\n\tgreedy: true\n};\nvar commentRule = {\n\tpattern: /(^[ \\t]*)#.*/mg,\n\tlookbehind: true,\n\tgreedy: true\n};\n\nlanguages.dockerfile = languages.docker = {\n\t'instruction': {\n\t\tpattern: /(^[ \\t]*)(?:add|arg|cmd|copy|entrypoint|env|expose|from|healthcheck|label|maintainer|onbuild|run|shell|stopsignal|user|volume|workdir)(?=\\s)(?:\\\\.|[^\\\\\\n])*(?:\\\\$(?:\\s|#.*$)*(?![\\s#])(?:\\\\.|[^\\\\\\n])*)*/img,\n\t\tlookbehind: true,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'options': {\n\t\t\t\tpattern: re(/(^(?:onbuild<0>)?\\w+<0>)<1>(?:<0><1>)*/.source, [space, option], 'gi'),\n\t\t\t\tlookbehind: true,\n\t\t\t\tgreedy: true,\n\t\t\t\tinside: {\n\t\t\t\t\t'property': {\n\t\t\t\t\t\tpattern: /(^|\\s)--[\\w-]+/,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t'string': [\n\t\t\t\t\t\tstringRule,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tpattern: /(=)(?![\"'])(?:\\\\.|[^\\\\\\s])+/,\n\t\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t'operator': /\\\\$/m,\n\t\t\t\t\t'punctuation': /=/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'keyword': [\n\t\t\t\t{\n\t\t\t\t\t// https://docs.docker.com/engine/reference/builder/#healthcheck\n\t\t\t\t\tpattern: re(/(^(?:onbuild<0>)?healthcheck<0>(?:<1><0>)*)(?:cmd|none)\\b/.source, [space, option], 'gi'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tgreedy: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// https://docs.docker.com/engine/reference/builder/#from\n\t\t\t\t\tpattern: re(/(^(?:onbuild<0>)?from<0>(?:<1><0>)*(?!--)[^ \\t\\\\]+<0>)as/.source, [space, option], 'gi'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tgreedy: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t// https://docs.docker.com/engine/reference/builder/#onbuild\n\t\t\t\t\tpattern: re(/(^onbuild<0>)\\w+/.source, [space], 'gi'),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tgreedy: true\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tpattern: /^\\w+/g,\n\t\t\t\t\tgreedy: true\n\t\t\t\t}\n\t\t\t],\n\t\t\t'comment': commentRule,\n\t\t\t'string': stringRule,\n\t\t\t'variable': /\\$(?:\\w+|\\{[^{}\"'\\\\]*\\})/,\n\t\t\t'operator': /\\\\$/m\n\t\t}\n\t},\n\t'comment': commentRule\n};\n"],"names":[],"mappings":";;AAMA,IAAI,sBAAsB;AAE1B,IAAI,QAAQ,QAAQ,6BAAsC,CAAC,mBAAmB,CAAC;AAE/E,IAAI,SAAS;AACb,IAAI,YAAY,OAAO;AACvB,IAAI,SAAS,QAAQ,mDAAoD,CAAC,SAAS,CAAC;AAEpF,IAAI,aAAa;AAAA,EAChB,SAAS;AAAA,EACT,QAAQ;AACT;AACA,IAAI,cAAc;AAAA,EACjB,SAAS;AAAA,EACT,YAAY;AAAA,EACZ,QAAQ;AACT;AAEA,UAAU,aAAa,UAAU,SAAS;AAAA,EACzC,eAAe;AAAA,IACd,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP,WAAW;AAAA,QACV,SAAS,GAAG,2CAAiD,CAAC,OAAO,MAAM,GAAG,IAAI;AAAA,QAClF,YAAY;AAAA,QACZ,QAAQ;AAAA,QACR,QAAQ;AAAA,UACP,YAAY;AAAA,YACX,SAAS;AAAA,YACT,YAAY;AAAA,UACZ;AAAA,UACD,UAAU;AAAA,YACT;AAAA,YACA;AAAA,cACC,SAAS;AAAA,cACT,YAAY;AAAA,YACnB;AAAA,UACM;AAAA,UACD,YAAY;AAAA,UACZ,eAAe;AAAA,QACpB;AAAA,MACI;AAAA,MACD,WAAW;AAAA,QACV;AAAA;AAAA,UAEC,SAAS,GAAG,8DAAoE,CAAC,OAAO,MAAM,GAAG,IAAI;AAAA,UACrG,YAAY;AAAA,UACZ,QAAQ;AAAA,QACR;AAAA,QACD;AAAA;AAAA,UAEC,SAAS,GAAG,6DAAmE,CAAC,OAAO,MAAM,GAAG,IAAI;AAAA,UACpG,YAAY;AAAA,UACZ,QAAQ;AAAA,QACR;AAAA,QACD;AAAA;AAAA,UAEC,SAAS,GAAG,qBAA2B,CAAC,KAAK,GAAG,IAAI;AAAA,UACpD,YAAY;AAAA,UACZ,QAAQ;AAAA,QACR;AAAA,QACD;AAAA,UACC,SAAS;AAAA,UACT,QAAQ;AAAA,QACb;AAAA,MACI;AAAA,MACD,WAAW;AAAA,MACX,UAAU;AAAA,MACV,YAAY;AAAA,MACZ,YAAY;AAAA,IACf;AAAA,EACE;AAAA,EACD,WAAW;AACZ;"}