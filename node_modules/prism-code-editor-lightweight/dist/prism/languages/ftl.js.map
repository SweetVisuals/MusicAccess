{"version":3,"file":"ftl.js","sources":["../../../src/prism/languages/ftl.js"],"sourcesContent":["import { languages, rest, tokenize } from '../core.js';\nimport { boolean, clikePunctuation } from '../utils/patterns.js';\nimport { nested, re } from '../utils/shared.js';\nimport { embeddedIn } from '../utils/templating.js';\nimport './markup.js';\n\n// https://freemarker.apache.org/docs/dgui_template_exp.html\n\n// FTL expression with 4 levels of nesting supported\nvar FTL_EXPR = [nested(/[^<()\"']|\\((?:<self>)*\\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|\"(?:\\\\.|[^\\\\\"])*\"|'(?:\\\\.|[^\\\\'])*'/.source, 2)];\n\nvar interpolationInside = {\n\t'interpolation-punctuation': {\n\t\tpattern: /^\\$\\{|\\}$/,\n\t\talias: 'punctuation'\n\t}\n};\n\nvar ftl = interpolationInside[rest] = {\n\t'comment': /<#--[\\s\\S]*?-->/,\n\t'string': [\n\t\t{\n\t\t\t// raw string\n\t\t\tpattern: /\\br([\"'])(?:\\\\.|(?!\\1)[^\\\\])*\\1/g,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: re(/([\"'])(?:\\\\.|(?!\\1|\\$\\{)[^\\\\]|\\$\\{(?:(?!\\})<0>)*\\})*\\1/.source, FTL_EXPR, 'g'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': {\n\t\t\t\t\tpattern: re(/((?:^|[^\\\\])(?:\\\\\\\\)*)\\$\\{(?:(?!\\})<0>)*\\}/.source, FTL_EXPR),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\tinside: interpolationInside\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\t'keyword': /\\b(?:as)\\b/,\n\t'boolean': boolean,\n\t'builtin-function': {\n\t\tpattern: /((?:^|[^?])\\?\\s*)\\w+/,\n\t\tlookbehind: true,\n\t\talias: 'function'\n\t},\n\t'function': /\\b\\w+(?=\\s*\\()/,\n\t'number': /\\b\\d+(?:\\.\\d+)?\\b/,\n\t'operator': /\\.\\.[<*!]?|->|--|\\+\\+|&&|\\|\\||\\?\\??|[%!=<>/*+-]=?|\\b[gl]te?\\b/,\n\t'punctuation': clikePunctuation\n};\n\nlanguages.ftl = {\n\t'ftl-comment': {\n\t\tpattern: /<#--[\\s\\S]*?-->/g,\n\t\tgreedy: true,\n\t\talias: 'comment'\n\t},\n\t'ftl-directive': {\n\t\tpattern: re(/<\\/?[#@][a-zA-Z]<0>*?>/.source, FTL_EXPR, 'gi'),\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'punctuation': /^<\\/?|\\/?>$/,\n\t\t\t'directive': {\n\t\t\t\tpattern: /^[#@][a-z]\\w*/i,\n\t\t\t\talias: 'keyword'\n\t\t\t},\n\t\t\t'ftl': {\n\t\t\t\tpattern: /\\s*\\S[\\s\\S]*/,\n\t\t\t\talias: 'language-ftl',\n\t\t\t\tinside: ftl\n\t\t\t}\n\t\t}\n\t},\n\t'ftl-interpolation': {\n\t\tpattern: re(/\\$\\{<0>*?\\}/.source, FTL_EXPR, 'gi'),\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'punctuation': /^\\$\\{|\\}$/,\n\t\t\t'ftl': {\n\t\t\t\tpattern: /\\s*\\S[\\s\\S]*/,\n\t\t\t\talias: 'language-ftl',\n\t\t\t\tinside: ftl\n\t\t\t}\n\t\t}\n\t},\n\t[tokenize]: embeddedIn('html')\n};\n"],"names":[],"mappings":";;;;;AASA,IAAI,WAAW,CAAC,OAAO,4GAAyG,CAAC,CAAC;AAElI,IAAI,sBAAsB;AAAA,EACzB,6BAA6B;AAAA,IAC5B,SAAS;AAAA,IACT,OAAO;AAAA,EACT;AACA;AAEA,IAAI,MAAM,oBAAoB,IAAI,IAAI;AAAA,EACrC,WAAW;AAAA,EACX,UAAU;AAAA,IACT;AAAA;AAAA,MAEC,SAAS;AAAA,MACT,QAAQ;AAAA,IACR;AAAA,IACD;AAAA,MACC,SAAS,GAAG,sEAAiE,UAAU,GAAG;AAAA,MAC1F,QAAQ;AAAA,MACR,QAAQ;AAAA,QACP,iBAAiB;AAAA,UAChB,SAAS,GAAG,wDAAqD,QAAQ;AAAA,UACzE,YAAY;AAAA,UACZ,QAAQ;AAAA,QACb;AAAA,MACA;AAAA,IACA;AAAA,EACE;AAAA,EACD,WAAW;AAAA,EACX,WAAW;AAAA,EACX,oBAAoB;AAAA,IACnB,SAAS;AAAA,IACT,YAAY;AAAA,IACZ,OAAO;AAAA,EACP;AAAA,EACD,YAAY;AAAA,EACZ,UAAU;AAAA,EACV,YAAY;AAAA,EACZ,eAAe;AAChB;AAEA,UAAU,MAAM;AAAA,EACf,eAAe;AAAA,IACd,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,OAAO;AAAA,EACP;AAAA,EACD,iBAAiB;AAAA,IAChB,SAAS,GAAG,yBAAiC,UAAU,IAAI;AAAA,IAC3D,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP,eAAe;AAAA,MACf,aAAa;AAAA,QACZ,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,OAAO;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA,QACP,QAAQ;AAAA,MACZ;AAAA,IACA;AAAA,EACE;AAAA,EACD,qBAAqB;AAAA,IACpB,SAAS,GAAG,kBAAsB,UAAU,IAAI;AAAA,IAChD,QAAQ;AAAA,IACR,QAAQ;AAAA,MACP,eAAe;AAAA,MACf,OAAO;AAAA,QACN,SAAS;AAAA,QACT,OAAO;AAAA,QACP,QAAQ;AAAA,MACZ;AAAA,IACA;AAAA,EACE;AAAA,EACD,CAAC,QAAQ,GAAG,WAAW,MAAM;AAC9B;"}