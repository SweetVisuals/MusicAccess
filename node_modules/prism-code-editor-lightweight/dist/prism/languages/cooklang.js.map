{"version":3,"file":"cooklang.js","sources":["../../../src/prism/languages/cooklang.js"],"sourcesContent":["import { languages } from '../core.js';\n\n// see https://github.com/cooklang/spec/blob/main/EBNF.md\n\nvar single_token_suffix = /(?:(?!\\s)[\\d$+<=a-zA-Z\\x80-\\uffff])+/.source;\nvar multi_token_infix = /[^{}@#]+/.source;\nvar multi_token = multi_token_infix + /\\{[^}#@]*\\}/.source;\n\nvar amount_group_impl = {\n\tpattern: /\\{[^{}]*\\}/,\n\tinside: {\n\t\t'amount': {\n\t\t\tpattern: /([\\{|])[^{}|*%]+/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'number',\n\t\t},\n\t\t'unit': {\n\t\t\tpattern: /(%)[^}]+/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'symbol',\n\t\t},\n\t\t'servings-scaler': {\n\t\t\tpattern: /\\*/,\n\t\t\talias: 'operator',\n\t\t},\n\t\t'servings-alternative-separator': {\n\t\t\tpattern: /\\|/,\n\t\t\talias: 'operator',\n\t\t},\n\t\t'unit-separator': {\n\t\t\tpattern: /(?:%|(\\*)%)/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'operator',\n\t\t},\n\t\t'punctuation': /[{}]/,\n\t}\n};\n\n\nlanguages.cooklang = {\n\t// [- comment -]\n\t// -- comment\n\t'comment': /\\[-[\\s\\S]*?-\\]|--.*/,\n\t'meta': { // >> key: value\n\t\tpattern: />>.*:.*/,\n\t\tinside: {\n\t\t\t'property': { // key:\n\t\t\t\tpattern: /(>>\\s*)[^\\s:](?:[^:]*[^\\s:])?/,\n\t\t\t\tlookbehind: true,\n\t\t\t}\n\t\t}\n\t},\n\t'cookware-group': { // #...{...}, #...\n\t\tpattern: RegExp(`#(?:${multi_token}|${single_token_suffix})`),\n\t\tinside: {\n\t\t\t'cookware': {\n\t\t\t\tpattern: RegExp(`(^#)(?:${multi_token_infix})`),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'variable',\n\t\t\t},\n\t\t\t'cookware-keyword': {\n\t\t\t\tpattern: /^#/,\n\t\t\t\talias: 'keyword',\n\t\t\t},\n\t\t\t'quantity-group': {\n\t\t\t\tpattern: /\\{[^{}@#]*\\}/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /[{}]/,\n\t\t\t\t\t'quantity': {\n\t\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\t\talias: 'number',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n\t'ingredient-group': { // @...{...}, @...\n\t\tpattern: RegExp(`@(?:${multi_token}|${single_token_suffix})`),\n\t\tinside: {\n\t\t\t'ingredient': {\n\t\t\t\tpattern: RegExp(`(^@)(?:${multi_token_infix})`),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'variable',\n\t\t\t},\n\t\t\t'ingredient-keyword': {\n\t\t\t\tpattern: /^@/,\n\t\t\t\talias: 'keyword',\n\t\t\t},\n\t\t\t'amount-group': amount_group_impl,\n\t\t}\n\t},\n\t'timer-group': { // ~timer{...}\n\t\t// eslint-disable-next-line regexp/sort-alternatives\n\t\tpattern: /~(?!\\s)[^@#~{}]*\\{[^{}]*\\}/,\n\t\tinside: {\n\t\t\t'timer': {\n\t\t\t\tpattern: /(^~)[^{]+/,\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'variable',\n\t\t\t},\n\t\t\t'duration-group': { // {...}\n\t\t\t\tpattern: /\\{[^{}]*\\}/,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /[{}]/,\n\t\t\t\t\t'unit': {\n\t\t\t\t\t\tpattern: /(%\\s*)(?:h|hours|hrs|m|min|minutes)\\b/,\n\t\t\t\t\t\tlookbehind: true,\n\t\t\t\t\t\talias: 'symbol',\n\t\t\t\t\t},\n\t\t\t\t\t'operator': /%/,\n\t\t\t\t\t'duration': {\n\t\t\t\t\t\tpattern: /\\d+/,\n\t\t\t\t\t\talias: 'number',\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t},\n\t\t\t'timer-keyword': {\n\t\t\t\tpattern: /^~/,\n\t\t\t\talias: 'keyword',\n\t\t\t},\n\t\t}\n\t}\n};\n"],"names":[],"mappings":";AAIA,IAAI,sBAAsB;AAC1B,IAAI,oBAAoB;AACxB,IAAI,cAAc,oBAAoB;AAEtC,IAAI,oBAAoB;AAAA,EACvB,SAAS;AAAA,EACT,QAAQ;AAAA,IACP,UAAU;AAAA,MACT,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,IACP;AAAA,IACD,QAAQ;AAAA,MACP,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,IACP;AAAA,IACD,mBAAmB;AAAA,MAClB,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,IACD,kCAAkC;AAAA,MACjC,SAAS;AAAA,MACT,OAAO;AAAA,IACP;AAAA,IACD,kBAAkB;AAAA,MACjB,SAAS;AAAA,MACT,YAAY;AAAA,MACZ,OAAO;AAAA,IACP;AAAA,IACD,eAAe;AAAA,EACjB;AACA;AAGA,UAAU,WAAW;AAAA;AAAA;AAAA,EAGpB,WAAW;AAAA,EACX,QAAQ;AAAA;AAAA,IACP,SAAS;AAAA,IACT,QAAQ;AAAA,MACP,YAAY;AAAA;AAAA,QACX,SAAS;AAAA,QACT,YAAY;AAAA,MAChB;AAAA,IACA;AAAA,EACE;AAAA,EACD,kBAAkB;AAAA;AAAA,IACjB,SAAS,OAAO,OAAO,WAAW,IAAI,mBAAmB,GAAG;AAAA,IAC5D,QAAQ;AAAA,MACP,YAAY;AAAA,QACX,SAAS,OAAO,UAAU,iBAAiB,GAAG;AAAA,QAC9C,YAAY;AAAA,QACZ,OAAO;AAAA,MACP;AAAA,MACD,oBAAoB;AAAA,QACnB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,kBAAkB;AAAA,QACjB,SAAS;AAAA,QACT,QAAQ;AAAA,UACP,eAAe;AAAA,UACf,YAAY;AAAA,YACX,SAAS;AAAA,YACT,OAAO;AAAA,UACP;AAAA,QACN;AAAA,MACA;AAAA,IACG;AAAA,EACD;AAAA,EACD,oBAAoB;AAAA;AAAA,IACnB,SAAS,OAAO,OAAO,WAAW,IAAI,mBAAmB,GAAG;AAAA,IAC5D,QAAQ;AAAA,MACP,cAAc;AAAA,QACb,SAAS,OAAO,UAAU,iBAAiB,GAAG;AAAA,QAC9C,YAAY;AAAA,QACZ,OAAO;AAAA,MACP;AAAA,MACD,sBAAsB;AAAA,QACrB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,MACD,gBAAgB;AAAA,IACnB;AAAA,EACE;AAAA,EACD,eAAe;AAAA;AAAA;AAAA,IAEd,SAAS;AAAA,IACT,QAAQ;AAAA,MACP,SAAS;AAAA,QACR,SAAS;AAAA,QACT,YAAY;AAAA,QACZ,OAAO;AAAA,MACP;AAAA,MACD,kBAAkB;AAAA;AAAA,QACjB,SAAS;AAAA,QACT,QAAQ;AAAA,UACP,eAAe;AAAA,UACf,QAAQ;AAAA,YACP,SAAS;AAAA,YACT,YAAY;AAAA,YACZ,OAAO;AAAA,UACP;AAAA,UACD,YAAY;AAAA,UACZ,YAAY;AAAA,YACX,SAAS;AAAA,YACT,OAAO;AAAA,UACP;AAAA,QACN;AAAA,MACI;AAAA,MACD,iBAAiB;AAAA,QAChB,SAAS;AAAA,QACT,OAAO;AAAA,MACP;AAAA,IACJ;AAAA,EACA;AACA;"}