{"version":3,"file":"bash.js","sources":["../../../src/prism/languages/bash.js"],"sourcesContent":["import { languages } from '../core.js';\n\n// $ set | grep '^[A-Z][^[:space:]]*=' | cut -d= -f1 | tr '\\n' '|'\n// + LC_ALL, RANDOM, REPLY, SECONDS.\n// + make sure PS1..4 are here as they are not always set,\n// - some useless things.\nvar envVars = '\\\\b(?:BASH(?:OPTS|_ALIASES|_ARG[CV]|_CMDS|_COMPLETION_COMPAT_DIR|_LINENO|_REMATCH|_SOURCE|_VERSINFO|_VERSION)?|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|E?UID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_(?:ADDRESS|ALL|IDENTIFICATION|MEASUREMENT|MONETARY|NAME|NUMERIC|PAPER|TELEPHONE|TIME)|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS[1-4]|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_(?:CONFIG_DIRS|CURRENT_DESKTOP|DATA_DIRS|GREETER_DATA_DIR|MENU_PREFIX|RUNTIME_DIR|SEAT|SEAT_PATH|SESSION_DESKTOP|SESSION_ID|SESSION_PATH|SESSION_TYPE|VTNR)|XMODIFIERS)\\\\b';\n\nvar commandAfterHeredoc = {\n\tpattern: /(^([\"']?)\\w+\\2)[ \\t]+\\S.*/,\n\tlookbehind: true,\n\talias: 'punctuation', // this looks reasonably well in all themes\n};\n\nvar variableInside = {\n\t'variable': /^\\$\\(|^`|\\)$|`$/\n};\n\nvar insideString = {\n\t'bash': commandAfterHeredoc,\n\t'environment': {\n\t\tpattern: RegExp('\\\\$' + envVars),\n\t\talias: 'constant'\n\t},\n\t'variable': [\n\t\t// [0]: Arithmetic Environment\n\t\t{\n\t\t\tpattern: /\\$?\\(\\([\\s\\S]*?\\)\\)/g,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t// If there is a $ sign at the beginning highlight $(( and )) as variable\n\t\t\t\t'variable': [\n\t\t\t\t\t{\n\t\t\t\t\t\tpattern: /(^\\$[\\s\\S]+)../,\n\t\t\t\t\t\tlookbehind: true\n\t\t\t\t\t},\n\t\t\t\t\t/^\\$\\(\\(/\n\t\t\t\t],\n\t\t\t\t'number': /\\b0x[a-fA-F\\d]+\\b|(?:\\b\\d+(?:\\.\\d*)?|\\B\\.\\d+)(?:[Ee]-?\\d+)?/,\n\t\t\t\t// Operators according to https://www.gnu.org/software/bash/manual/bashref.html#Shell-Arithmetic\n\t\t\t\t'operator': /--|\\+\\+|&&|\\|\\||(?:\\*\\*|<<|>>|[%&|^!=<>/*+-])=?|[?:~]/,\n\t\t\t\t// If there is no $ sign at the beginning highlight (( and )) as punctuation\n\t\t\t\t'punctuation': /\\(\\(?|\\)\\)?|,|;/\n\t\t\t}\n\t\t},\n\t\t// [1]: Command Substitution\n\t\t{\n\t\t\tpattern: /\\$\\((?:[^()]|\\([^)]*\\))*\\)|`[^`]+`/g,\n\t\t\tgreedy: true,\n\t\t\tinside: variableInside\n\t\t},\n\t\t// [2]: Brace expansion\n\t\t{\n\t\t\tpattern: /\\$\\{[^}]*\\}/g,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'operator': /:[?=+-]?|[!/]|##?|%%?|\\^\\^?|,,?/,\n\t\t\t\t'punctuation': /[[\\]]/,\n\t\t\t\t'environment': {\n\t\t\t\t\tpattern: RegExp('(\\\\{)' + envVars),\n\t\t\t\t\tlookbehind: true,\n\t\t\t\t\talias: 'constant'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/\\$(?:\\w+|[#?*!@$])/\n\t],\n\t// Escape sequences from echo and printf's manuals, and escaped quotes.\n\t'entity': /\\\\(?:[abceEfnrtv\\\\\"]|O?[0-7]{1,3}|U[a-fA-F\\d]{8}|u[a-fA-F\\d]{4}|x[a-fA-F\\d]{1,2})/\n};\n\nvar bash = commandAfterHeredoc.inside = languages.sh = languages.shell = languages.bash = {\n\t'shebang': {\n\t\tpattern: /^#!\\s*\\/.*/,\n\t\talias: 'important'\n\t},\n\t'comment': {\n\t\tpattern: /(^|[^\"{\\\\$])#.*/,\n\t\tlookbehind: true\n\t},\n\t'function-name': [\n\t\t// a) function foo {\n\t\t// b) foo() {\n\t\t// c) function foo() {\n\t\t// but not “foo {”\n\t\t{\n\t\t\t// a) and c)\n\t\t\tpattern: /(\\bfunction\\s+)[\\w-]+(?=(?:\\s*\\(?:\\s*\\))?\\s*\\{)/,\n\t\t\tlookbehind: true,\n\t\t\talias: 'function'\n\t\t},\n\t\t{\n\t\t\t// b)\n\t\t\tpattern: /\\b[\\w-]+(?=\\s*\\(\\s*\\)\\s*\\{)/,\n\t\t\talias: 'function'\n\t\t}\n\t],\n\t// Highlight variable names as variables in for and select beginnings.\n\t'for-or-select': {\n\t\tpattern: /(\\b(?:for|select)\\s+)\\w+(?=\\s+in\\s)/,\n\t\tlookbehind: true,\n\t\talias: 'variable'\n\t},\n\t// Highlight variable names as variables in the left-hand part\n\t// of assignments (“=” and “+=”).\n\t'assign-left': {\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()\\w+(?:\\.\\w+)*(?=\\+?=)/,\n\t\tlookbehind: true,\n\t\talias: 'variable',\n\t\tinside: {\n\t\t\t'environment': {\n\t\t\t\tpattern: RegExp('(^|[\\\\s;|&]|[<>]\\\\()' + envVars),\n\t\t\t\tlookbehind: true,\n\t\t\t\talias: 'constant'\n\t\t\t}\n\t\t}\n\t},\n\t// Highlight parameter names as variables\n\t'parameter': {\n\t\tpattern: /(^|\\s)-{1,2}(?:\\w+:[+-]?)?\\w+(?:\\.\\w+)*(?![^\\s=])/,\n\t\tlookbehind: true,\n\t\talias: 'variable'\n\t},\n\t'string': [\n\t\t// Support for Here-documents https://en.wikipedia.org/wiki/Here_document\n\t\t{\n\t\t\tpattern: /((?:^|[^<])<<-?\\s*)(\\w+)\\s[\\s\\S]*?\\n\\2/g,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: insideString\n\t\t},\n\t\t// Here-document with quotes around the tag\n\t\t// → No expansion (so no “inside”).\n\t\t{\n\t\t\tpattern: /((?:^|[^<])<<-?\\s*)([\"'])(\\w+)\\2\\s[\\s\\S]*?\\n\\3/g,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'bash': commandAfterHeredoc\n\t\t\t}\n\t\t},\n\t\t// “Normal” string\n\t\t{\n\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Double-Quotes.html\n\t\t\tpattern: /(^|[^\\\\](?:\\\\\\\\)*)\"(?:\\\\[\\s\\S]|\\$\\([^)]+\\)|\\$(?!\\()|`[^`]+`|[^\\\\\"`$])*\"/g,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: insideString\n\t\t},\n\t\t{\n\t\t\t// https://www.gnu.org/software/bash/manual/html_node/Single-Quotes.html\n\t\t\tpattern: /(^|[^$\\\\])'[^']*'/g,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\t// https://www.gnu.org/software/bash/manual/html_node/ANSI_002dC-Quoting.html\n\t\t\tpattern: /\\$'(?:\\\\[\\s\\S]|[^\\\\'])*'/g,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'entity': insideString.entity\n\t\t\t}\n\t\t}\n\t],\n\t'environment': {\n\t\tpattern: RegExp('\\\\$?' + envVars),\n\t\talias: 'constant'\n\t},\n\t'variable': insideString.variable,\n\t'function': {\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|c?fdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cron|crontab|c?split|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff3?|dig|dircolors|dirname|dirs?|dmesg|docker|docker-compose|du|[ef]?grep|eject|env|ethtool|expand|expect|expr|fdformat|fg|file|find|fmt|fold|format|free|fsck|fuser|g?awk|git|g?parted|groupadd|groupdel|groupmod|groups|grub-mkconfig|halt|head|hg|history|host|hostname|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|killall|less|link|ln|logname|logrotate|look|lpc|lprint[dq]?|lprm?|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mm?v|more|most|mtools|m?tr|mutt|nano|nc|netstat|nice|nl|node|nohup|notify-send|nslookup|op|open|passwd|paste|pathchk|ping|p?kill|p?npm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ra[mr]|reboot|remsync|rename|renice|rev|rmdir|rp?m|r?sync|[sr]?cp|screen|sdiff|se[dq]|sendmail|service|s?ftp|shellcheck|shuf|shutdown|sleep|s?locate|[sz]?sh|stat|strace|sudo|sum?|suspend|swapon|sysctl|tac|tail|tar|tee|time|timeout|h?top|touch|traceroute|t?sort|tty|u?mount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vim?|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|g?zip|zsh|zypper)(?=$|[)\\s;|&])/,\n\t\tlookbehind: true\n\t},\n\t'keyword': {\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\\s;|&])/,\n\t\tlookbehind: true\n\t},\n\t// https://www.gnu.org/software/bash/manual/html_node/Shell-Builtin-Commands.html\n\t'builtin': {\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:\\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|[ls]et|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\\s;|&])/,\n\t\tlookbehind: true,\n\t\t// Alias added to make those easier to distinguish from strings.\n\t\talias: 'class-name'\n\t},\n\t'boolean': {\n\t\tpattern: /(^|[\\s;|&]|[<>]\\()(?:false|true)(?=$|[)\\s;|&])/,\n\t\tlookbehind: true\n\t},\n\t'file-descriptor': {\n\t\tpattern: /\\B&\\d\\b/,\n\t\talias: 'important'\n\t},\n\t'operator': {\n\t\t// Lots of redirections here, but not just that.\n\t\tpattern: /\\d?<>|>\\||\\+=|=[=~]?|!=?|<<[<-]?|[&\\d]?>>|\\d[<>]&?|[<>][&=]?|&[>&]?|\\|[&|]?/,\n\t\tinside: {\n\t\t\t'file-descriptor': {\n\t\t\t\tpattern: /^\\d/,\n\t\t\t\talias: 'important'\n\t\t\t}\n\t\t}\n\t},\n\t'punctuation': /\\$?\\(\\(?|\\)\\)?|\\.\\.|[[\\]{};\\\\]/,\n\t'number': {\n\t\tpattern: /(^|\\s)(?:[1-9]\\d*|0)(?:[.,]\\d+)?\\b/,\n\t\tlookbehind: true\n\t}\n};\n\n/* Patterns in command substitution. */\n[\n\t'comment',\n\t'function-name',\n\t'for-or-select',\n\t'assign-left',\n\t'parameter',\n\t'string',\n\t'environment',\n\t'function',\n\t'keyword',\n\t'builtin',\n\t'boolean',\n\t'file-descriptor',\n\t'operator',\n\t'punctuation',\n\t'number'\n].forEach(copied => variableInside[copied] = bash[copied]);\n"],"names":[],"mappings":"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"}