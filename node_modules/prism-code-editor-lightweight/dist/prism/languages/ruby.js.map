{"version":3,"file":"ruby.js","sources":["../../../src/prism/languages/ruby.js"],"sourcesContent":["import { languages } from '../core.js';\nimport { boolean, clikeNumber } from '../utils/patterns.js';\n\nvar interpolationContent = {\n\tpattern: /^(..)[\\s\\S]+(?=.)/,\n\tlookbehind: true,\n};\n\nvar percentExpression = /(?:([^a-zA-Z\\d\\s{(\\[<=])(?:\\\\[\\s\\S]|(?!\\1)[^\\\\])*\\1|\\((?:\\\\[\\s\\S]|[^\\\\()]|\\((?:\\\\[\\s\\S]|[^\\\\()])*\\))*\\)|\\{(?:\\\\[\\s\\S]|[^\\\\{}]|\\{(?:\\\\[\\s\\S]|[^\\\\{}])*\\})*\\}|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]]|\\[(?:\\\\[\\s\\S]|[^\\\\[\\]])*\\])*\\]|<(?:\\\\[\\s\\S]|[^\\\\<>]|<(?:\\\\[\\s\\S]|[^\\\\<>])*>)*>)/.source;\n\nvar symbolName = /(?:\"(?:\\\\.|[^\\\\\\n\"])*\"|(?:\\b(?!\\d)\\w+|[^\\s\\0-\\x7f]+)[?!]?|\\$.)/.source;\n\nvar interpolation = {\n\tpattern: /((?:^|[^\\\\])(?:\\\\\\\\)*)#\\{(?:[^{}]|\\{[^}]*\\})*\\}/,\n\tlookbehind: true,\n\tinside: {\n\t\t'content': interpolationContent,\n\t\t'delimiter': {\n\t\t\tpattern: /.+/,\n\t\t\talias: 'punctuation'\n\t\t}\n\t}\n}\n\ninterpolationContent.inside = languages.rb = languages.ruby = {\n\t'comment': {\n\t\tpattern: /#.*|^=begin\\s[\\s\\S]*?^=end/mg,\n\t\tgreedy: true\n\t},\n\t'string-literal': [\n\t\t{\n\t\t\tpattern: RegExp(/%[qQiIwWs]?/.source + percentExpression, 'g'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': interpolation,\n\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /([\"'])(?:#\\{[^}]+\\}|#(?!\\{)|\\\\[\\s\\S]|(?!\\1)[^\\\\#\\n])*\\1/g,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': interpolation,\n\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /<<[-~]?([a-z_]\\w*)\\n(?:.*\\n)*?[ \\t]*\\1/gi,\n\t\t\talias: 'heredoc-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^<<[-~]?[a-z_]\\w*|\\b[a-z_]\\w*$/i,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'symbol': /\\w+/,\n\t\t\t\t\t\t'punctuation': /^<<[-~]?/\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'interpolation': interpolation,\n\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /<<[-~]?'([a-z_]\\w*)'\\n(?:.*\\n)*?[ \\t]*\\1/gi,\n\t\t\talias: 'heredoc-string',\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'delimiter': {\n\t\t\t\t\tpattern: /^<<[-~]?'[a-z_]\\w*'|\\b[a-z_]\\w*$/i,\n\t\t\t\t\tinside: {\n\t\t\t\t\t\t'symbol': /\\w+/,\n\t\t\t\t\t\t'punctuation': /^<<[-~]?'|'$/,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t'string': /[\\s\\S]+/\n\t\t\t}\n\t\t}\n\t],\n\t'command-literal': [\n\t\t{\n\t\t\tpattern: RegExp(/%x/.source + percentExpression, 'g'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': interpolation,\n\t\t\t\t'command': {\n\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\talias: 'string'\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /`(?:#\\{[^}]+\\}|#(?!\\{)|\\\\[\\s\\S]|[^\\\\`#\\n])*`/g,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': interpolation,\n\t\t\t\t'command': {\n\t\t\t\t\tpattern: /[\\s\\S]+/,\n\t\t\t\t\talias: 'string'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t],\n\t'class-name': {\n\t\tpattern: /(\\b(?:class|module)\\s+|\\bcatch\\s+\\()[\\w.\\\\]+|\\b[A-Z_]\\w*(?=\\s*\\.\\s*new\\b)/,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'punctuation': /[.\\\\]/\n\t\t}\n\t},\n\t'regex-literal': [\n\t\t{\n\t\t\tpattern: RegExp(`%r${percentExpression}[egimnosux]{0,6}`, 'g'),\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': interpolation,\n\t\t\t\t'regex': /[\\s\\S]+/\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^/])\\/(?!\\/)(?:\\[[^\\n\\]]+\\]|\\\\.|[^\\\\\\n/[])+\\/[egimnosux]{0,6}(?=\\s*(?:$|[\\n,.;})#]))/g,\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true,\n\t\t\tinside: {\n\t\t\t\t'interpolation': interpolation,\n\t\t\t\t'regex': /[\\s\\S]+/\n\t\t\t}\n\t\t}\n\t],\n\t'variable': /[@$]+(?!\\d)\\w+(?:[?!]|\\b)/,\n\t'symbol': [\n\t\t{\n\t\t\tpattern: RegExp(/(^|[^:]):/.source + symbolName, 'g'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t\t{\n\t\t\tpattern: RegExp(/([\\n{(,][ \\t]*)/.source + symbolName + /(?=:(?!:))/.source, 'g'),\n\t\t\tlookbehind: true,\n\t\t\tgreedy: true\n\t\t},\n\t],\n\t'method-definition': {\n\t\tpattern: /(\\bdef\\s+)\\w+(?:\\s*\\.\\s*\\w+)?/,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\t'function': /\\b\\w+$/,\n\t\t\t'keyword': /^self\\b/,\n\t\t\t'class-name': /^\\w+/,\n\t\t\t'punctuation': /\\./\n\t\t}\n\t},\n\t'keyword': /\\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|f?or|if|in|include|module|new|next|nil|not|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|[tw]hen|throw|undef|unless|until|while|yield)\\b/,\n\t'boolean': boolean,\n\t'builtin': /\\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\\b/,\n\t'constant': /\\b[A-Z][A-Z\\d_]*(?:[?!]|\\b)/,\n\t'number': clikeNumber,\n\t'double-colon': {\n\t\tpattern: /::/,\n\t\talias: 'punctuation'\n\t},\n\t'operator': /\\.{2,3}|&\\.|===|<?=>|[!=]?~|(?:&&|\\|\\||<<|>>|\\*\\*|[%&|^!=<>/*+-])=?|[?:]/,\n\t'punctuation': /[()[\\]{}.,;]/,\n};\n"],"names":[],"mappings":"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"}