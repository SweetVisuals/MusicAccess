{"version":3,"file":"markup.js","sources":["../../../src/prism/languages/markup.js"],"sourcesContent":["import { languages } from '../core.js';\nimport { clone, insertBefore } from '../utils/language.js';\nimport './xml.js';\n\nvar addLang = (grammar, lang) => {\n\tgrammar['language-' + lang] = {\n\t\tpattern: /[\\s\\S]+/,\n\t\tinside: lang\n\t};\n\treturn grammar;\n};\n\nvar addInlined = (tagName, lang) => ({\n\tpattern: RegExp(`(<${tagName}[^>]*>)(?!</${tagName}>)(?:<!\\\\[CDATA\\\\[(?:[^\\\\]]|\\\\](?!\\\\]>))*\\\\]\\\\]>|(?!<!\\\\[CDATA\\\\[)[\\\\s\\\\S])+?(?=</${tagName}>)`, 'gi'),\n\tlookbehind: true,\n\tgreedy: true,\n\tinside: addLang({\n\t\t'included-cdata': {\n\t\t\tpattern: /<!\\[CDATA\\[[\\s\\S]*?\\]\\]>/i,\n\t\t\tinside: addLang({\n\t\t\t\t'cdata': /^<!\\[CDATA\\[|\\]\\]>$/i\n\t\t\t}, lang)\n\t\t}\n\t}, lang)\n});\n\nvar addAttribute = (attrName, lang) => ({\n\tpattern: RegExp(`((?:^|[\"'\\\\s])(?:${attrName})\\\\s*=\\\\s*)(?:\"[^\"]*\"|'[^']*'|[^\\\\s\"'=>]+)`, 'gi'),\n\tlookbehind: true,\n\tgreedy: true,\n\tinside: addLang({\n\t\t'punctuation': /^[\"']|[\"']$/,\n\t}, lang)\n});\n\nvar markup = languages.svg = languages.mathml = languages.html = languages.markup = clone(languages.xml);\n\nmarkup.tag.inside['attr-value'].unshift(\n\taddAttribute('style', 'css'),\n\taddAttribute(/on[a-z]+/.source, 'javascript')\n);\n\ninsertBefore(markup, 'cdata', {\n\t'style': addInlined('style', 'css'),\n\t'script': addInlined('script', 'javascript')\n});\n"],"names":[],"mappings":";;;AAIA,IAAI,UAAU,CAAC,SAAS,SAAS;AAChC,UAAQ,cAAc,IAAI,IAAI;AAAA,IAC7B,SAAS;AAAA,IACT,QAAQ;AAAA,EACR;AACD,SAAO;AACR;AAEA,IAAI,aAAa,CAAC,SAAS,UAAU;AAAA,EACpC,SAAS,OAAO,KAAK,OAAO,eAAe,OAAO,gFAAqF,OAAO,MAAM,IAAI;AAAA,EACxJ,YAAY;AAAA,EACZ,QAAQ;AAAA,EACR,QAAQ,QAAQ;AAAA,IACf,kBAAkB;AAAA,MACjB,SAAS;AAAA,MACT,QAAQ,QAAQ;AAAA,QACf,SAAS;AAAA,MACb,GAAM,IAAI;AAAA,IACV;AAAA,EACA,GAAI,IAAI;AACR;AAEA,IAAI,eAAe,CAAC,UAAU,UAAU;AAAA,EACvC,SAAS,OAAO,oBAAoB,QAAQ,8CAA8C,IAAI;AAAA,EAC9F,YAAY;AAAA,EACZ,QAAQ;AAAA,EACR,QAAQ,QAAQ;AAAA,IACf,eAAe;AAAA,EACjB,GAAI,IAAI;AACR;AAEA,IAAI,SAAS,UAAU,MAAM,UAAU,SAAS,UAAU,OAAO,UAAU,SAAS,MAAM,UAAU,GAAG;AAEvG,OAAO,IAAI,OAAO,YAAY,EAAE;AAAA,EAC/B,aAAa,SAAS,KAAK;AAAA,EAC3B,aAAa,YAAmB,YAAY;AAC7C;AAEA,aAAa,QAAQ,SAAS;AAAA,EAC7B,SAAS,WAAW,SAAS,KAAK;AAAA,EAClC,UAAU,WAAW,UAAU,YAAY;AAC5C,CAAC;"}